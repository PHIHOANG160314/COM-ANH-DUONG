<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>F&B Master - H·ªá Th·ªëng Qu·∫£n L√Ω Nh√† H√†ng</title>

    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#6366f1">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="√Ånh D∆∞∆°ng">
    <meta name="description" content="H·ªá th·ªëng qu·∫£n l√Ω nh√† h√†ng - F&B Restaurant Management">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/icon-72.png">

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="logo.jpg">

    <!-- Fonts & Styles -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/mobile.css">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <img src="logo.jpg" alt="√Ånh D∆∞∆°ng" class="logo-img">
                    <span class="logo-text text-gradient">√Ånh D∆∞∆°ng</span>
                </div>
                <button class="sidebar-toggle" id="sidebarToggle">‚ò∞</button>
            </div>

            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" data-page="dashboard">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-text" data-i18n="nav_dashboard">Dashboard</span>
                </a>
                <a href="#" class="nav-item" data-page="pos">
                    <span class="nav-icon">üõí</span>
                    <span class="nav-text" data-i18n="nav_pos">POS - ƒê∆°n h√†ng</span>
                </a>
                <a href="#" class="nav-item" data-page="foodcost">
                    <span class="nav-icon">üí∞</span>
                    <span class="nav-text" data-i18n="nav_foodcost">Food Cost</span>
                </a>
                <a href="#" class="nav-item" data-page="inventory">
                    <span class="nav-icon">üì¶</span>
                    <span class="nav-text" data-i18n="nav_inventory">Kho h√†ng</span>
                </a>
                <a href="#" class="nav-item" data-page="recipes">
                    <span class="nav-icon">üìñ</span>
                    <span class="nav-text" data-i18n="nav_recipes">C√¥ng th·ª©c</span>
                </a>
                <a href="#" class="nav-item" data-page="menu">
                    <span class="nav-icon">üìú</span>
                    <span class="nav-text" data-i18n="nav_menu">Menu</span>
                </a>
                <a href="#" class="nav-item" data-page="orders">
                    <span class="nav-icon">üìã</span>
                    <span class="nav-text" data-i18n="nav_orders">Qu·∫£n l√Ω ƒë∆°n</span>
                </a>
                <a href="#" class="nav-item" data-page="tables">
                    <span class="nav-icon">üçΩÔ∏è</span>
                    <span class="nav-text" data-i18n="nav_tables">Qu·∫£n l√Ω b√†n</span>
                </a>
                <a href="#" class="nav-item" data-page="kitchen">
                    <span class="nav-icon">üë®‚Äçüç≥</span>
                    <span class="nav-text" data-i18n="nav_kitchen">M√†n h√¨nh b·∫øp</span>
                </a>
                <a href="#" class="nav-item" data-page="staff">
                    <span class="nav-icon">üë•</span>
                    <span class="nav-text" data-i18n="nav_staff">Nh√¢n vi√™n</span>
                </a>
                <a href="#" class="nav-item" data-page="customers">
                    <span class="nav-icon">üíé</span>
                    <span class="nav-text" data-i18n="nav_customers">Kh√°ch h√†ng</span>
                </a>
                <a href="#" class="nav-item" data-page="sops">
                    <span class="nav-icon">‚úÖ</span>
                    <span class="nav-text" data-i18n="nav_sops">SOPs</span>
                </a>
            </nav>

            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-avatar">üë§</div>
                    <div class="user-details">
                        <span class="user-name">Admin</span>
                        <span class="user-role">F&B Manager</span>
                    </div>
                </div>
                <div class="contact-info">
                    <p>üìû 0917 076 061</p>
                    <p>üìç 91 H√πng V∆∞∆°ng, Sa ƒê√©c</p>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="main-header">
                <div class="header-left">
                    <h1 id="pageTitle">Dashboard</h1>
                    <p class="header-date" id="currentDate"></p>
                </div>
                <div class="header-right">
                    <div class="search-box">
                        <input type="text" placeholder="T√¨m ki·∫øm..." id="globalSearch">
                        <span class="search-icon">üîç</span>
                    </div>
                    <button class="btn-icon" id="themeToggleBtn" title="Chuy·ªÉn ƒë·ªïi s√°ng/t·ªëi">
                        <span id="themeIcon">üåô</span>
                    </button>
                    <button class="btn-icon" id="langToggleBtn" onclick="i18n.toggleLanguage()" title="Change Language">
                        üåê EN
                    </button>
                    <button class="btn-icon" id="notificationBtn" onclick="KitchenDisplay.showReadyOrders()"
                        title="ƒê∆°n s·∫µn s√†ng ph·ª•c v·ª•">
                        <span>üîî</span>
                        <span class="badge">0</span>
                    </button>
                </div>
            </header>

            <!-- Page Content -->
            <div class="page-content">
                <!-- Dashboard Page -->
                <section class="page active" id="page-dashboard">
                    <div class="kpi-grid">
                        <div class="kpi-card revenue shimmer">
                            <div class="kpi-icon icon-bounce">üíµ</div>
                            <div class="kpi-content">
                                <h3 id="totalRevenue">0</h3>
                                <p>Doanh thu h√¥m nay</p>
                                <span class="kpi-trend up">‚Üë 12%</span>
                            </div>
                        </div>
                        <div class="kpi-card orders shimmer">
                            <div class="kpi-icon icon-bounce">üßæ</div>
                            <div class="kpi-content">
                                <h3 id="totalOrders">0</h3>
                                <p>ƒê∆°n h√†ng</p>
                                <span class="kpi-trend up">‚Üë 8%</span>
                            </div>
                        </div>
                        <div class="kpi-card foodcost shimmer">
                            <div class="kpi-icon icon-bounce">üìâ</div>
                            <div class="kpi-content">
                                <h3 id="foodCostPercent">0%</h3>
                                <p>Food Cost</p>
                                <span class="kpi-trend down">‚Üì 2%</span>
                            </div>
                        </div>
                        <div class="kpi-card inventory shimmer">
                            <div class="kpi-icon icon-bounce">‚ö†Ô∏è</div>
                            <div class="kpi-content">
                                <h3 id="lowStockItems">0</h3>
                                <p>Nguy√™n li·ªáu s·∫Øp h·∫øt</p>
                                <span class="kpi-trend warning">C·∫ßn b·ªï sung</span>
                            </div>
                        </div>
                    </div>

                    <div class="recent-section">
                        <div class="card-header">
                            <h3>ƒê∆°n h√†ng g·∫ßn ƒë√¢y</h3>
                            <a href="#" class="view-all" data-page="pos">Xem t·∫•t c·∫£ ‚Üí</a>
                        </div>
                        <div class="orders-table-container">
                            <table class="data-table" id="recentOrdersTable">
                                <thead>
                                    <tr>
                                        <th>M√£ ƒë∆°n</th>
                                        <th>B√†n</th>
                                        <th>M√≥n</th>
                                        <th>T·ªïng ti·ªÅn</th>
                                        <th>Tr·∫°ng th√°i</th>
                                        <th>Th·ªùi gian</th>
                                    </tr>
                                </thead>
                                <tbody id="recentOrdersBody"></tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Analytics Section -->
                    <div class="analytics-section">
                        <div class="analytics-header">
                            <h2>üìä Th·ªëng K√™ Doanh Thu</h2>
                            <div class="analytics-filters">
                                <div class="quick-filters">
                                    <button class="quick-filter-btn active" data-filter="today">H√¥m nay</button>
                                    <button class="quick-filter-btn" data-filter="week">Tu·∫ßn</button>
                                    <button class="quick-filter-btn" data-filter="month">Th√°ng</button>
                                    <button class="quick-filter-btn" data-filter="year">NƒÉm</button>
                                </div>
                                <div class="date-picker-group">
                                    <input type="date" id="analyticsDateFrom">
                                    <span>‚Üí</span>
                                    <input type="date" id="analyticsDateTo">
                                </div>
                            </div>
                        </div>

                        <!-- Summary Cards -->
                        <div class="analytics-summary">
                            <div class="summary-card">
                                <div class="summary-icon">üí∞</div>
                                <div class="summary-content">
                                    <span class="summary-label">T·ªïng doanh thu</span>
                                    <span class="summary-value" id="analyticsTotalRevenue">0ƒë</span>
                                </div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-icon">üßæ</div>
                                <div class="summary-content">
                                    <span class="summary-label">S·ªë ƒë∆°n h√†ng</span>
                                    <span class="summary-value" id="analyticsOrderCount">0</span>
                                </div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-icon">üìà</div>
                                <div class="summary-content">
                                    <span class="summary-label">Gi√° tr·ªã TB/ƒë∆°n</span>
                                    <span class="summary-value" id="analyticsAvgOrder">0ƒë</span>
                                </div>
                            </div>
                        </div>

                        <!-- Charts Row -->
                        <div class="analytics-charts">
                            <div class="chart-card">
                                <div class="card-header">
                                    <h3>üì¶ Theo Nh√≥m H√†ng</h3>
                                </div>
                                <div id="categoryChartContainer" class="bar-chart-container"></div>
                            </div>
                            <div class="chart-card">
                                <div class="card-header">
                                    <h3>üè™ Theo K√™nh B√°n</h3>
                                </div>
                                <div id="channelChartContainer" class="pie-chart-container"></div>
                            </div>
                        </div>

                        <!-- Top Items Table -->
                        <div class="analytics-table-section">
                            <div class="card-header">
                                <h3>üèÜ Top M√≥n B√°n Ch·∫°y</h3>
                            </div>
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>H·∫°ng</th>
                                        <th>T√™n m√≥n</th>
                                        <th>SL b√°n</th>
                                        <th>Doanh thu</th>
                                    </tr>
                                </thead>
                                <tbody id="analyticsItemsBody"></tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- POS Page -->
                <section class="page" id="page-pos">
                    <div class="pos-container">
                        <div class="pos-menu">
                            <div class="category-tabs" id="categoryTabs">
                                <button class="category-tab active" data-category="all">T·∫•t c·∫£</button>
                                <button class="category-tab" data-category="food">M√≥n ch√≠nh</button>
                                <button class="category-tab" data-category="drinks">ƒê·ªì u·ªëng</button>
                                <button class="category-tab" data-category="dessert">Tr√°ng mi·ªáng</button>
                            </div>
                            <div class="menu-grid" id="menuGrid"></div>
                        </div>
                        <div class="pos-cart">
                            <div class="cart-header">
                                <h3>üõí ƒê∆°n h√†ng</h3>
                                <select id="tableSelect">
                                    <option value="">Ch·ªçn b√†n</option>
                                    <option value="1">B√†n 1</option>
                                    <option value="2">B√†n 2</option>
                                    <option value="3">B√†n 3</option>
                                    <option value="4">B√†n 4</option>
                                    <option value="5">B√†n 5</option>
                                    <option value="takeaway">Mang ƒëi</option>
                                </select>
                            </div>
                            <div class="cart-items" id="cartItems">
                                <div class="cart-empty">Ch∆∞a c√≥ m√≥n n√†o</div>
                            </div>
                            <div class="cart-summary">
                                <div class="cart-row">
                                    <span>T·∫°m t√≠nh</span>
                                    <span id="subtotal">0ƒë</span>
                                </div>
                                <div class="cart-row">
                                    <span>VAT (10%)</span>
                                    <span id="vat">0ƒë</span>
                                </div>
                                <div class="cart-row total">
                                    <span>T·ªïng c·ªông</span>
                                    <span id="total">0ƒë</span>
                                </div>
                            </div>
                            <div class="cart-actions">
                                <button class="btn-secondary" id="clearCartBtn">X√≥a ƒë∆°n</button>
                                <button class="btn-primary" id="checkoutBtn">Thanh to√°n</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Food Cost Page -->
                <section class="page" id="page-foodcost">
                    <div class="foodcost-container">
                        <div class="foodcost-form card">
                            <h3>T√≠nh gi√° th√†nh m√≥n ƒÉn</h3>
                            <div class="form-group">
                                <label>T√™n m√≥n</label>
                                <input type="text" id="dishName" placeholder="VD: B√∫n b√≤ Hu·∫ø">
                            </div>
                            <div class="ingredients-section">
                                <div class="section-header">
                                    <h4>Nguy√™n li·ªáu</h4>
                                    <button class="btn-icon-sm" id="addIngredientBtn">+ Th√™m</button>
                                </div>
                                <div id="ingredientsList"></div>
                            </div>
                            <div class="form-group">
                                <label>Target Food Cost %</label>
                                <input type="number" id="targetFoodCost" value="30" min="1" max="100">
                            </div>
                            <button class="btn-primary full-width" id="calculateBtn">T√≠nh to√°n</button>
                        </div>
                        <div class="foodcost-result card">
                            <h3>K·∫øt qu·∫£</h3>
                            <div class="result-grid">
                                <div class="result-item">
                                    <span class="result-label">T·ªïng chi ph√≠ NVL</span>
                                    <span class="result-value" id="totalCost">0ƒë</span>
                                </div>
                                <div class="result-item">
                                    <span class="result-label">Gi√° b√°n ƒë·ªÅ xu·∫•t</span>
                                    <span class="result-value highlight" id="suggestedPrice">0ƒë</span>
                                </div>
                                <div class="result-item">
                                    <span class="result-label">Food Cost %</span>
                                    <span class="result-value" id="actualFoodCost">0%</span>
                                </div>
                                <div class="result-item">
                                    <span class="result-label">L·ª£i nhu·∫≠n g·ªôp</span>
                                    <span class="result-value" id="grossProfit">0ƒë</span>
                                </div>
                            </div>
                            <button class="btn-secondary full-width" id="saveRecipeBtn">L∆∞u c√¥ng th·ª©c</button>
                        </div>
                    </div>
                </section>

                <!-- Inventory Page -->
                <section class="page" id="page-inventory">
                    <div class="inventory-header">
                        <div class="inventory-actions">
                            <button class="btn-primary" id="addInventoryBtn">+ Nh·∫≠p kho</button>
                            <button class="btn-secondary" id="exportInventoryBtn">Xu·∫•t kho</button>
                        </div>
                        <div class="inventory-filters">
                            <select id="inventoryCategory">
                                <option value="">T·∫•t c·∫£ nh√≥m</option>
                                <option value="meat">Th·ªãt</option>
                                <option value="seafood">H·∫£i s·∫£n</option>
                                <option value="vegetables">Rau c·ªß</option>
                                <option value="spices">Gia v·ªã</option>
                                <option value="drinks">ƒê·ªì u·ªëng</option>
                            </select>
                            <select id="inventoryStatus">
                                <option value="">T·∫•t c·∫£ tr·∫°ng th√°i</option>
                                <option value="low">S·∫Øp h·∫øt</option>
                                <option value="ok">ƒê·ªß d√πng</option>
                                <option value="excess">D∆∞ th·ª´a</option>
                            </select>
                        </div>
                    </div>
                    <div class="inventory-table-container">
                        <table class="data-table" id="inventoryTable">
                            <thead>
                                <tr>
                                    <th>M√£ NVL</th>
                                    <th>T√™n nguy√™n li·ªáu</th>
                                    <th>Nh√≥m</th>
                                    <th>T·ªìn kho</th>
                                    <th>ƒê∆°n v·ªã</th>
                                    <th>ƒê·ªãnh m·ª©c t·ªëi thi·ªÉu</th>
                                    <th>Tr·∫°ng th√°i</th>
                                    <th>Thao t√°c</th>
                                </tr>
                            </thead>
                            <tbody id="inventoryBody"></tbody>
                        </table>
                    </div>
                </section>

                <!-- Recipes Page -->
                <section class="page" id="page-recipes">
                    <div class="recipes-header">
                        <button class="btn-primary" id="addRecipeBtn">+ Th√™m c√¥ng th·ª©c</button>
                        <input type="text" class="search-input" id="recipeSearch" placeholder="T√¨m c√¥ng th·ª©c...">
                    </div>
                    <div class="recipes-grid" id="recipesGrid"></div>
                </section>

                <!-- Menu Management Page -->
                <section class="page" id="page-menu">
                    <div class="menu-management">
                        <div class="menu-tabs">
                            <button class="menu-tab active" data-menu-type="master">üìã Menu T·ªïng</button>
                            <button class="menu-tab" data-menu-type="daily">üìÖ Menu H√¥m Nay</button>
                        </div>

                        <!-- Master Menu -->
                        <div class="menu-section active" id="masterMenuSection">
                            <div class="menu-header">
                                <h3>Menu T·ªïng - T·∫•t c·∫£ m√≥n</h3>
                                <div class="menu-header-actions">
                                    <input type="file" id="excelFileInput" accept=".xlsx,.xls,.csv"
                                        style="display:none">
                                    <button class="btn-info" id="importExcelBtn" title="Import t·ª´ file Excel">üì•
                                        Import</button>
                                    <button class="btn-warning" id="exportExcelBtn" title="Xu·∫•t menu ra Excel">üì§
                                        Export</button>
                                    <button class="btn-success" id="addToDailyBtn">‚ûï Menu Ng√†y</button>
                                    <button class="btn-secondary" id="resetMenuBtn"
                                        title="Kh√¥i ph·ª•c l·∫°i menu m·∫´u ƒë·∫ßy ƒë·ªß">üîÑ N·∫°p M·∫´u</button>
                                    <button class="btn-primary" id="addMenuItemBtn">+ Th√™m m√≥n</button>
                                </div>
                            </div>
                            <div class="menu-table-container">
                                <table class="data-table" id="masterMenuTable">
                                    <thead>
                                        <tr>
                                            <th>Ch·ªçn</th>
                                            <th>M√£</th>
                                            <th>T√™n m√≥n</th>
                                            <th>Lo·∫°i</th>
                                            <th>Gi√° b√°n</th>
                                            <th>Gi√° v·ªën</th>
                                            <th>Tr·∫°ng th√°i</th>
                                            <th>Thao t√°c</th>
                                        </tr>
                                    </thead>
                                    <tbody id="masterMenuBody"></tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Daily Menu -->
                        <div class="menu-section" id="dailyMenuSection">
                            <div class="menu-header">
                                <h3>üìÖ Menu H√¥m Nay - <span id="todayDate"></span></h3>
                                <div class="menu-header-actions">
                                    <button class="btn-secondary" id="clearDailyBtn">X√≥a t·∫•t c·∫£</button>
                                    <button class="btn-primary" id="copyYesterdayBtn">üìã Copy t·ª´ h√¥m qua</button>
                                </div>
                            </div>
                            <div class="daily-menu-grid" id="dailyMenuGrid"></div>
                            <div class="daily-menu-summary">
                                <span>T·ªïng: <strong id="dailyMenuCount">0</strong> m√≥n</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- SOPs Page -->
                <section class="page" id="page-sops">
                    <div class="sops-container">
                        <div class="sops-sidebar">
                            <h3>Danh m·ª•c SOP</h3>
                            <div class="sop-categories">
                                <button class="sop-cat-btn active" data-sop="opening">üåÖ Opening</button>
                                <button class="sop-cat-btn" data-sop="closing">üåô Closing</button>
                                <button class="sop-cat-btn" data-sop="service">üçΩÔ∏è Service</button>
                                <button class="sop-cat-btn" data-sop="kitchen">üßë‚Äçüç≥ Kitchen</button>
                                <button class="sop-cat-btn" data-sop="cleaning">üßπ Cleaning</button>
                                <button class="sop-cat-btn" data-sop="safety">üõ°Ô∏è Food Safety</button>
                            </div>
                        </div>
                        <div class="sops-content">
                            <div class="sop-header">
                                <h2 id="sopTitle">Opening Checklist</h2>
                                <div class="sop-progress">
                                    <span id="sopProgress">0/0</span>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="sopProgressBar"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="sop-checklist" id="sopChecklist"></div>
                            <div class="sop-actions">
                                <button class="btn-secondary" id="resetSopBtn">Reset</button>
                                <button class="btn-primary" id="completeSopBtn">Ho√†n th√†nh</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Order Management Page -->
                <section class="page" id="page-orders">
                    <div class="orders-header">
                        <div class="orders-stats">
                            <div class="order-stat-card new">
                                <span class="stat-number" id="ordersNew">0</span>
                                <span class="stat-label">ƒê·∫∑t h√†ng</span>
                            </div>
                            <div class="order-stat-card received">
                                <span class="stat-number" id="ordersReceived">0</span>
                                <span class="stat-label">Nh·∫≠n ƒë∆°n</span>
                            </div>
                            <div class="order-stat-card delivering">
                                <span class="stat-number" id="ordersDelivering">0</span>
                                <span class="stat-label">ƒêang giao</span>
                            </div>
                            <div class="order-stat-card delivered">
                                <span class="stat-number" id="ordersDelivered">0</span>
                                <span class="stat-label">ƒê√£ giao</span>
                            </div>
                        </div>
                        <button class="btn-primary" id="addOrderBtn">+ T·∫°o ƒë∆°n m·ªõi</button>
                    </div>
                    <div class="orders-kanban">
                        <div class="kanban-column" data-status="new">
                            <div class="kanban-header new">
                                <span class="kanban-icon">üìù</span>
                                <h3>ƒê·∫∑t h√†ng</h3>
                                <span class="kanban-count" id="kanbanNew">0</span>
                            </div>
                            <div class="kanban-cards" id="kanbanCardsNew"></div>
                        </div>
                        <div class="kanban-column" data-status="received">
                            <div class="kanban-header received">
                                <span class="kanban-icon">‚úÖ</span>
                                <h3>Nh·∫≠n ƒë∆°n</h3>
                                <span class="kanban-count" id="kanbanReceived">0</span>
                            </div>
                            <div class="kanban-cards" id="kanbanCardsReceived"></div>
                        </div>
                        <div class="kanban-column" data-status="delivering">
                            <div class="kanban-header delivering">
                                <span class="kanban-icon">üöö</span>
                                <h3>ƒêang giao</h3>
                                <span class="kanban-count" id="kanbanDelivering">0</span>
                            </div>
                            <div class="kanban-cards" id="kanbanCardsDelivering"></div>
                        </div>
                        <div class="kanban-column" data-status="delivered">
                            <div class="kanban-header delivered">
                                <span class="kanban-icon">üéâ</span>
                                <h3>ƒê√£ giao</h3>
                                <span class="kanban-count" id="kanbanDelivered">0</span>
                            </div>
                            <div class="kanban-cards" id="kanbanCardsDelivered"></div>
                        </div>
                    </div>
                </section>

                <!-- Table Management Page -->
                <section class="page" id="page-tables">
                    <div class="tables-container">
                        <div class="tables-header">
                            <h2>üçΩÔ∏è S∆° ƒê·ªì B√†n</h2>
                            <div id="tableStats" class="table-stats"></div>
                            <button class="btn-primary" id="addTableBtn">+ Th√™m b√†n</button>
                        </div>
                        <div class="tables-grid" id="tablesGrid"></div>
                    </div>
                </section>

                <!-- Kitchen Display Page -->
                <section class="page" id="page-kitchen">
                    <div class="kitchen-container">
                        <div class="kitchen-header">
                            <h2>üë®‚Äçüç≥ M√†n H√¨nh B·∫øp</h2>
                            <div class="kitchen-stats">
                                <span>ƒê∆°n ƒëang ch·ªù: <strong id="kitchenOrderCount">0</strong></span>
                            </div>
                        </div>
                        <div class="kitchen-orders-grid" id="kitchenOrdersGrid"></div>
                    </div>
                </section>

                <!-- Staff Management Page -->
                <section class="page" id="page-staff">
                    <div class="staff-container">
                        <div class="staff-header">
                            <h2>üë• Qu·∫£n L√Ω Nh√¢n Vi√™n</h2>
                            <div id="staffStats" class="staff-stats"></div>
                            <div class="staff-actions">
                                <button class="btn-info" id="payrollBtn" onclick="StaffManagement.showPayrollModal()">üí∞
                                    B·∫£ng l∆∞∆°ng</button>
                                <button class="btn-primary" id="addStaffBtn">+ Th√™m nh√¢n vi√™n</button>
                            </div>
                        </div>
                        <div class="staff-table-container">
                            <table class="data-table" id="staffTable">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>H·ªç t√™n</th>
                                        <th>Ch·ª©c v·ª•</th>
                                        <th>SƒêT</th>
                                        <th>Ca l√†m vi·ªác</th>
                                        <th>Tr·∫°ng th√°i</th>
                                        <th>Thao t√°c</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>

                        <!-- Attendance Section -->
                        <div class="attendance-section" style="margin-top: 2rem;">
                            <h3>üìÖ Ch·∫•m C√¥ng H√¥m Nay</h3>
                            <div class="staff-table-container">
                                <table class="data-table" id="attendanceTable">
                                    <thead>
                                        <tr>
                                            <th>Nh√¢n vi√™n</th>
                                            <th>Check-in</th>
                                            <th>Check-out</th>
                                            <th>Gi·ªù l√†m</th>
                                            <th>Thao t√°c</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Customer Loyalty Page -->
                <section class="page" id="page-customers">
                    <div class="customers-container">
                        <div class="customers-header">
                            <h2>üíé Kh√°ch H√†ng Th√¢n Thi·∫øt</h2>
                            <div id="customerStats" class="customer-stats"></div>
                            <div class="customer-actions" style="display:flex; gap:0.5rem; flex-wrap:wrap;">
                                <button class="btn-success" onclick="CustomerLoyalty.showStoreScanModal()">üì≤ Qu√©t QR
                                    t√≠ch ƒëi·ªÉm</button>
                                <button class="btn-warning" onclick="CustomerLoyalty.showBulkPromotionModal()">üì¢ G·ª≠i
                                    khuy·∫øn m√£i</button>
                                <button class="btn-primary" id="addCustomerBtn">+ Th√™m kh√°ch h√†ng</button>
                            </div>
                        </div>
                        <div class="customers-table-container">
                            <table class="data-table" id="customersTable">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>H·ªç t√™n</th>
                                        <th>SƒêT</th>
                                        <th>H·∫°ng</th>
                                        <th>ƒêi·ªÉm</th>
                                        <th>T·ªïng chi ti√™u</th>
                                        <th>S·ªë l·∫ßn gh√©</th>
                                        <th>Thao t√°c</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal" id="modal">
            <div class="modal-header">
                <h3 id="modalTitle">Modal Title</h3>
                <button class="modal-close" id="modalClose">√ó</button>
            </div>
            <div class="modal-body" id="modalBody"></div>
            <div class="modal-footer" id="modalFooter"></div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Mobile Bottom Navigation -->
    <nav class="mobile-nav" id="mobileNav">
        <div class="mobile-nav-items">
            <a href="#" class="mobile-nav-item active" data-page="dashboard">
                <span class="mobile-nav-icon">üìä</span>
                <span class="mobile-nav-label">Dashboard</span>
            </a>
            <a href="#" class="mobile-nav-item" data-page="pos">
                <span class="mobile-nav-icon">üõí</span>
                <span class="mobile-nav-label">POS</span>
            </a>
            <a href="#" class="mobile-nav-item" data-page="orders">
                <span class="mobile-nav-icon">üìã</span>
                <span class="mobile-nav-label">Orders</span>
            </a>
            <a href="#" class="mobile-nav-item" data-page="kitchen">
                <span class="mobile-nav-icon">üë®‚Äçüç≥</span>
                <span class="mobile-nav-label">Kitchen</span>
            </a>
            <a href="#" class="mobile-nav-item" data-page="menu">
                <span class="mobile-nav-icon">üìú</span>
                <span class="mobile-nav-label">Menu</span>
            </a>
        </div>
    </nav>

    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- Scripts -->
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    <script src="js/env.js"></script>
    <script src="js/error-tracker.js"></script>
    <script src="js/analytics-tracker.js"></script>
    <script src="js/debug.js"></script>
    <script src="js/supabase-client.js"></script>
    <script src="js/api-service.js"></script>
    <script src="js/data.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/access-control.js"></script>
    <script src="js/admin-credentials.js"></script>
    <script src="js/pagination.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/pos.js"></script>
    <script src="js/foodcost.js"></script>
    <script src="js/inventory.js"></script>
    <script src="js/recipes.js"></script>
    <script src="js/sops.js"></script>
    <script src="js/menu.js"></script>
    <script src="js/orders.js?v=2.0"></script>
    <script src="js/analytics.js"></script>
    <script src="js/reports.js"></script>
    <script src="js/tables.js"></script>
    <script src="js/kitchen.js"></script>
    <script src="js/staff.js"></script>
    <script src="js/customers.js"></script>
    <script src="js/i18n.js"></script>
    <script src="js/app.js"></script>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(reg => console.log('‚úÖ SW registered:', reg.scope))
                    .catch(err => console.log('‚ùå SW failed:', err));
            });
        }

        // PWA Install Prompt
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            // Show install button
            const installBtn = document.createElement('button');
            installBtn.id = 'installBtn';
            installBtn.className = 'btn-install';
            installBtn.innerHTML = 'üì≤ C√†i App';
            installBtn.onclick = async () => {
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    const { outcome } = await deferredPrompt.userChoice;
                    console.log('Install:', outcome);
                    deferredPrompt = null;
                    installBtn.remove();
                }
            };
            document.querySelector('.header-actions')?.appendChild(installBtn);
        });
    </script>
</body>

</html>